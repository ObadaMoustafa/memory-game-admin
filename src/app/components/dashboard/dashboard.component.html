<mat-sidenav-container class="sidenav-container">
  <mat-sidenav
    #drawer
    class="sidenav"
    [attr.role]="isHandset() ? 'dialog' : 'navigation'"
    [mode]="isHandset() ? 'over' : 'side'"
    [opened]="!isHandset() || isDrawerOpen()"
  >
    <mat-toolbar>Memory Admin</mat-toolbar>
    <mat-nav-list>
      <a mat-list-item routerLink="/stats" routerLinkActive="active-link" (click)="toggleDrawer()">
        <mat-icon matListItemIcon>assessment</mat-icon>
        <span matListItemTitle>Statistics</span>
      </a>
      <a
        mat-list-item
        routerLink="/players"
        routerLinkActive="active-link"
        (click)="toggleDrawer()"
      >
        <mat-icon matListItemIcon>group</mat-icon>
        <span matListItemTitle>Players</span>
      </a>
      <a mat-list-item routerLink="/dates" routerLinkActive="active-link" (click)="toggleDrawer()">
        <mat-icon matListItemIcon>event</mat-icon>
        <span matListItemTitle>Game Dates</span>
      </a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar color="primary" class="main-toolbar">
      <div class="left-section">
        @if (isHandset()) {
        <button type="button" mat-icon-button (click)="toggleDrawer()">
          <mat-icon>menu</mat-icon>
        </button>
        }
        <span>Admin Dashboard ( {{ username() }} )</span>
      </div>
      <button type="button" mat-icon-button (click)="onLogout()" title="Logout">
        <mat-icon>logout</mat-icon>
      </button>
    </mat-toolbar>

    <main class="main-content">
      @if (adminService.loading()) {
      <div class="loading-overlay">
        <mat-spinner diameter="50"></mat-spinner>
      </div>
      }
      <router-outlet />
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
